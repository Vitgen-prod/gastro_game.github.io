
* { margin:0; padding:0; box-sizing:border-box; }
html, body { width:100%; height:100%; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial; }
:root{
  --menu-bg:#EEEBDD;
  --menu-shadow:0 10px 30px rgba(0,0,0,.12);
  --menu-radius:18px;
  --menu-divider:#F4F0E8;
  --menu-text:#4b5656;
}

/* Стартовый экран */
/* фон стартовой — мобильный */
.container{
  position:fixed; inset:0;
  background:url('фон11.png') center/cover no-repeat; /* твой мобильный фон */
}

/* скрыть старые элементы, если где-то остались */
.header,.title,.logo{ display:none !important; }

/* позиция кнопки */
.action{
  position:absolute;
  bottom:max(32px, env(safe-area-inset-bottom));
  left:50%; transform:translateX(-50%);
}

/* размер кнопки-картинки */
.start-image-btn{
  display:block;
  width:342px;   /* как в макете */
  height:60px;
  cursor:pointer;
}

.start-image-btn {
  display: block;
  width: 342px;   /* как в фигме */
  height: 60px;   /* как в фигме */
  cursor: pointer;
}
/* Личный кабинет */
.hidden { display:none !important; }
.app { position:fixed; inset:0; display:flex; flex-direction:column; background:url('фон2.png') center/cover no-repeat; }

/* Верхняя панель */
.topbar { padding:12px 16px; display:flex; gap:12px; align-items:center; }
.chip { background:#fff; border-radius:999px; padding:8px 12px; font-size:14px; display:flex; align-items:center; gap:6px; box-shadow:0 2px 8px rgba(0,0,0,.08); }
.chip.pink{ background:#ffe8ef; color:#c53063; }
.chip.green{ background:#e9fff7; color:#1d6b62; }

/* Карта */
.map { position:relative; flex:1; padding:8px 12px; }
.panel { width:100%; background:rgba(255,255,255,.82); backdrop-filter:blur(6px); border-radius:16px; padding:12px 14px; box-shadow:0 8px 24px rgba(0,0,0,.08); }
.panel-title{ font-weight:700; color:#444; }
.progress{ margin-top:8px; height:10px; background:#f1f1f1; border-radius:999px; overflow:hidden; }
.progress>i{ display:block; height:100%; width:40%; background:linear-gradient(90deg,#ff8fb2,#ffa6c4); }

.map-canvas{ position:relative; margin-top:12px; border-radius:18px; overflow:hidden; min-height:520px; background:rgba(255,255,255,.55); }
.lvl{ position:absolute; display:flex; align-items:center; justify-content:center; width:56px; height:56px; border-radius:50%; background:#fff; box-shadow:0 6px 18px rgba(0,0,0,.14); font-weight:700; color:#333; border:2px solid #fff; cursor:pointer; }
.lvl[data-level="1"]{ left:18px; top:40px; }
.lvl[data-level="2"]{ right:26px; top:150px; }
.lvl[data-level="3"]{ left:34px; bottom:160px; }
.lvl[data-level="4"]{ right:22px; bottom:60px; }
.lvl .sub{ position:absolute; bottom:-18px; background:#fff; border-radius:999px; padding:2px 8px; font-size:11px; box-shadow:0 3px 10px rgba(0,0,0,.08); }

.cta{ position:sticky; bottom:10px; margin-top:10px; }
.btn{ width:100%; height:56px; border:0; border-radius:14px; background:#3a3f3f; color:#fff; font-size:16px; font-weight:700; letter-spacing:.2px; box-shadow:0 8px 20px rgba(0,0,0,.18); cursor:pointer; }

/* Меню */
.bottom-card{
  position:fixed; left:50%; transform:translateX(-50%);
  bottom:max(8px, env(safe-area-inset-bottom));
  width:calc(100% - 24px); max-width:420px;
  display:flex; align-items:center; justify-content:space-between;
  background:var(--menu-bg);
  border-radius:var(--menu-radius);
  box-shadow:var(--menu-shadow);
  padding:12px 10px; backdrop-filter:blur(4px);
}
.bottom-card .tab{ appearance:none; -webkit-appearance:none; border:0; background:transparent; cursor:pointer; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:6px; padding:6px 8px; flex:1; min-width:0; text-align:center; }
.bottom-card .tab .icon{ width:32px; height:32px; object-fit:contain; display:block; }
.bottom-card .tab span{ font-size:13px; line-height:1.2; text-align:center; font-weight:600; color:var(--menu-text); }
.bottom-card .divider{ width:1px; height:30px; background:var(--menu-divider); display:block; opacity:.9; }
.bottom-card .tab:active{ transform:scale(.96); }

/* Попап (исправлено) */
.overlay{
  position:fixed; inset:0; background:rgba(0,0,0,.45);
  display:flex; align-items:center; justify-content:center;
  z-index:1000; overflow:auto;
}
.popup{
  position:relative; width:90%; max-width:360px;
  margin:24px 0; /* место на экранах с маленькой высотой */
}
.popup-title{
  position:absolute;
  top:-22px;
  left:50%;
  transform:translateX(-50%);
  width:calc(100% - 32px);   /* внутри карточки */
  max-width:340px;           /* под макет */
  height:auto;
  display:block;
  z-index:5;
  margin:0;
}
.popup-bg{ width:100%; display:block; z-index:1; }

.popup-content{
  position:absolute; top:45px; left:0; right:0;
  padding:20px 20px 88px;   /* снизу запас под кнопку */
  display:flex; flex-direction:column; align-items:center; gap:6px; z-index:2;
}
.popup-content img{ max-width:90%; height:auto; }
.popup-content img:nth-child(1) {
  margin-top: -20px; /* можно регулировать значением */
}
.popup-content img:nth-child(2){ margin-top:35px; }
.popup-content img:nth-child(3){ margin-top:10px; }

/* Кнопка как в фигме */
.popup-btn{
  position:absolute; left:50%; bottom:20px; transform:translateX(-50%);
  background:#FFBBCE; border:0; border-radius:38px; padding:8px 30px;
  font-family:'Manrope',sans-serif; font-size:16px; font-weight:700; line-height:1; text-transform:uppercase; text-align:center; color:#fff;
  z-index:5; /* поверх контента */
  box-shadow:0 8px 20px rgba(0,0,0,.15); /* можно убрать */
}
.popup-btn:active{ transform:translateX(-50%) scale(0.98); }


/* Новый блок статуса ЛК */
.status-block{
  position:absolute;
  top:96px; left:24px;
  width:342px; 
  height:auto;
  display:flex;
  align-items:center;
  justify-content:space-between;
  background:#fff;
  border-radius:16px;
  box-shadow:0 2px 20px rgba(72,79,76,0.2);
  padding:12px;
  gap:8px;
}

.chip.gray{
  background:#EEEBDD;
  border-radius:27px;
  padding:10px 16px;
  font-size:14px;
  font-weight:600;
  color:#484F4C;
}
.chip.pink{
  background:#FFBBCE;
  border-radius:20px;
  padding:4px 8px;
  font-size:14px;
  font-weight:600;
  color:#fff;
}
.chip.green{
  background:#79A57B;
  border-radius:20px;
  padding:4px 8px;
  font-size:14px;
  font-weight:600;
  color:#fff;
}

/* Прогресс ЛК */
.progress-panel{
  position:absolute;
  top:190px; left:24px;
  width:342px;
  background:#fff;
  border-radius:16px;
  padding:10px;
  box-shadow:0 2px 20px rgba(72,79,76,0.2);
}
.progress-title{
  font-family:'Manrope',sans-serif;
  font-size:16px;
  font-weight:700;
  color:#484F4C;
  margin-bottom:6px;
}
.progress-rail{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:6px;
}
.progress-rail .seg{
  flex:1;
  height:12px;
  border-radius:14px;
  background:#fff;
  border:1px solid #FFBBCE;
}
.progress-rail .seg.on{
  background:#FFBBCE;
}
